## Enumeration

### Checking internal socket connections
```bash
ss -tulpn
```
```bash
netstat -an
```
```bash
arp -a
```
```bash
ip address
```
```bash
ip route
```
```bash
route print
```
### Check Host File Contents
```bash
cat /etc/hosts
cat /etc/resolv.conf
```
```bash
type C:\\Windows\\System32\\drivers\\etc\\hosts
```
## SSH
### Local Port Forwarding
Listen on local port `8080` and forward incoming traffic to `10.10.10.10:8080` via `SSH_SERVER`
Scenario: Access a host that's being blocked by a firewall via `SSH_SERVER`
```bash
ssh -L 127.0.0.1:8080:10.10.10.10:8080 victim@10.10.10.10
```
### Dynamic Port Forwarding
Listen on local port `8080`. Incoming traffic to `127.0.0.1:8080` forwards it to final destination via `SSH_SERVER`
Scenario: Proxy your web traffic through SSH tunnel or access hosts on internal network via a compromised DMZ box
```bash
ssh -D 127.0.0.1:8080 victim@10.10.10.10
```
### Remote Port Forwarding
Open port `5555` on `10.10.10.10`. Incoming traffic to `10.10.10.10:5555` is tunneled to `127.0.0.1:3389`
Scenario: Expose RDP on non-routable network
```bash
ssh -R 5555:127.0.0.1:3389 victim@10.10.10.10
```
## ProxyTunnel
Open a local port `127.0.0.1:5555`. Incoming traffic to `5555` is proxied to `10.10.10.10` through `10.10.11.11:3128`
Scenario: A remote host has SSH running, but it's only bound to `127.0.0.1`, but we want to reach it
```bash
proxytunnel -p 10.10.11.11:3128 -d 10.10.10.10:22 -a 5555
```
```bash
ssh user@127.0.0.1 -p 5555
```